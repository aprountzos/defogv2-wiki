"use strict";(globalThis.webpackChunkdefogv_2_wiki=globalThis.webpackChunkdefogv_2_wiki||[]).push([[680],{3845:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"architecture/introduction","title":"Introduction","description":"Intelligent multi-cluster workload management for Kubernetes","source":"@site/docs/architecture/introduction.mdx","sourceDirName":"architecture","slug":"/","permalink":"/defogv2-wiki/docs/","draft":false,"unlisted":false,"editUrl":"https://github.com/aprountzos/defogv2-wiki/tree/main/docs/docs/architecture/introduction.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Introduction","description":"Intelligent multi-cluster workload management for Kubernetes","sidebar_position":1,"slug":"/"},"sidebar":"tutorialSidebar","previous":{"title":"Testing Connectivity","permalink":"/defogv2-wiki/docs/test-connectivity"},"next":{"title":"Complete Data Flows","permalink":"/defogv2-wiki/docs/architecture/data-flow"}}');var s=n(4848),l=n(8453);const t={title:"Introduction",description:"Intelligent multi-cluster workload management for Kubernetes",sidebar_position:1,slug:"/"},o="Defog v2",c={},d=[{value:"What is Defog v2?",id:"what-is-defog-v2",level:2},{value:"Key Features",id:"key-features",level:2},{value:"\ud83d\ude80 Dual-Strategy Approach",id:"-dual-strategy-approach",level:3},{value:"\ud83c\udfaf Autonomous Operation",id:"-autonomous-operation",level:3},{value:"\ud83d\udd04 Seamless Integration",id:"-seamless-integration",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"Quick Example",id:"quick-example",level:3},{value:"Architecture",id:"architecture",level:2},{value:"Service Roles",id:"service-roles",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"1. Multi-Region High Availability",id:"1-multi-region-high-availability",level:3},{value:"2. Burst Traffic Handling",id:"2-burst-traffic-handling",level:3},{value:"3. Cost Optimization",id:"3-cost-optimization",level:3},{value:"4. Progressive Service Migration",id:"4-progressive-service-migration",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"1. Install Defog v2",id:"1-install-defog-v2",level:3},{value:"2. Configure Peer Clusters",id:"2-configure-peer-clusters",level:3},{value:"3. Verify Installation",id:"3-verify-installation",level:3},{value:"4. Watch It Work",id:"4-watch-it-work",level:3},{value:"Configuration Overview",id:"configuration-overview",level:2},{value:"Documentation Structure",id:"documentation-structure",level:2},{value:"Navigation Guide",id:"navigation-guide",level:3},{value:"Design Philosophy",id:"design-philosophy",level:2},{value:"1. Autonomous Clusters",id:"1-autonomous-clusters",level:3},{value:"2. Gradual Changes",id:"2-gradual-changes",level:3},{value:"3. Safety First",id:"3-safety-first",level:3},{value:"4. Observable",id:"4-observable",level:3},{value:"Performance Characteristics",id:"performance-characteristics",level:2},{value:"Response Times",id:"response-times",level:3},{value:"Resource Usage",id:"resource-usage",level:3},{value:"Scalability",id:"scalability",level:3},{value:"What&#39;s Next?",id:"whats-next",level:2},{value:"Learn the System",id:"learn-the-system",level:3},{value:"Deploy It",id:"deploy-it",level:3},{value:"Integrate It",id:"integrate-it",level:3},{value:"Community &amp; Support",id:"community--support",level:2},{value:"Get Involved",id:"get-involved",level:3},{value:"Resources",id:"resources",level:3},{value:"Contributing",id:"contributing",level:3},{value:"License",id:"license",level:2}];function a(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"defog-v2",children:"Defog v2"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Intelligent Multi-Cluster Workload Management for Kubernetes"})}),"\n",(0,s.jsx)(r.p,{children:"Defog v2 automatically distributes services across Kubernetes clusters using Linkerd multi-cluster, combining stress-based traffic management with RPS-based service placement."}),"\n",(0,s.jsx)(r.h2,{id:"what-is-defog-v2",children:"What is Defog v2?"}),"\n",(0,s.jsx)(r.p,{children:"Defog v2 is a distributed system that helps you:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Automatically balance load"})," across clusters when pods are stressed"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Deploy popular services locally"})," based on request patterns"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Optimize resource usage"})," by removing low-traffic services"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Enable seamless failover"})," when services become unavailable"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Coordinate peer clusters"})," without centralized control"]}),"\n"]}),"\n",(0,s.jsx)(r.mermaid,{value:'graph TB\r\n    subgraph "Your Clusters"\r\n        A[Cluster A<br/>US-West]\r\n        B[Cluster B<br/>US-East]\r\n        C[Cluster C<br/>EU-West]\r\n    end\r\n    \r\n    A <--\x3e|Peer-to-Peer| B\r\n    B <--\x3e|Coordination| C\r\n    A <--\x3e|When Needed| C\r\n    \r\n    A -.->|Linkerd<br/>Service Mirror| B\r\n    B -.->|Service Mirror| C\r\n    \r\n    style A fill:#e1f5ff\r\n    style B fill:#e1ffe1\r\n    style C fill:#ffe1e1'}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"key-features",children:"Key Features"}),"\n",(0,s.jsx)(r.h3,{id:"-dual-strategy-approach",children:"\ud83d\ude80 Dual-Strategy Approach"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Stress Strategy"})," - Immediate Relief"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Monitors pod CPU/RAM usage"}),"\n",(0,s.jsx)(r.li,{children:"Shifts traffic to mirrored services"}),"\n",(0,s.jsx)(r.li,{children:"Response time: 5-10 seconds"}),"\n",(0,s.jsx)(r.li,{children:"Automatically reverses when stress reduces"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"RPS Strategy"})," - Long-term Optimization"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Tracks requests per second (RPS)"}),"\n",(0,s.jsx)(r.li,{children:"Deploys popular mirrored services locally"}),"\n",(0,s.jsx)(r.li,{children:"Removes low-traffic services (LFU algorithm)"}),"\n",(0,s.jsx)(r.li,{children:"Coordinates with peer clusters when needed"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"-autonomous-operation",children:"\ud83c\udfaf Autonomous Operation"}),"\n",(0,s.jsx)(r.p,{children:"Each cluster runs independently:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"No centralized controller"}),"\n",(0,s.jsx)(r.li,{children:"Peer-to-peer communication only when necessary"}),"\n",(0,s.jsx)(r.li,{children:"Each cluster makes its own decisions"}),"\n",(0,s.jsx)(r.li,{children:"Survives network partitions"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"-seamless-integration",children:"\ud83d\udd04 Seamless Integration"}),"\n",(0,s.jsx)(r.p,{children:"Built on standard Kubernetes tools:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Linkerd"})," for service mirroring"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"TrafficSplit CRD"})," for traffic management"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Kubernetes API"})," for deployments"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Prometheus"})," for metrics (optional)"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsx)(r.h3,{id:"quick-example",children:"Quick Example"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Scenario"}),": Your API service in Cluster A is overloaded"]}),"\n",(0,s.jsx)(r.mermaid,{value:"sequenceDiagram\r\n    participant Pods as API Pods<br/>(Cluster A)\r\n    participant Defog as Defog v2\r\n    participant Mirror as API Mirror<br/>(Cluster B)\r\n    \r\n    Note over Pods: CPU reaches 85%\r\n    Pods->>Defog: Metrics detected\r\n    Defog->>Defog: Calculate traffic split\r\n    Note over Defog: Shift 30% traffic\r\n    Defog->>Mirror: Route traffic\r\n    Note over Pods: Load reduced to 60%\r\n    Note over Mirror: Handling 30% of requests\r\n    \r\n    rect rgb(240, 255, 240)\r\n        Note over Defog: RPS Analysis\r\n        Defog->>Defog: Mirror has 400 RPS\r\n        Defog->>Defog: Deploy locally\r\n        Note over Pods: New pods deployed\r\n        Defog->>Defog: Shift back to 100% local\r\n    end"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Result"}),":"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"Immediate relief via traffic shifting (10 seconds)"}),"\n",(0,s.jsx)(r.li,{children:"Long-term fix via local deployment (60 seconds)"}),"\n",(0,s.jsx)(r.li,{children:"Optimal state: All traffic local with sufficient capacity"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(r.p,{children:"Defog v2 consists of 5 independent microservices:"}),"\n",(0,s.jsx)(r.mermaid,{value:'graph LR\r\n    subgraph "Each Cluster"\r\n        DC[Discovery Controller<br/>Labels services]\r\n        MON[Metrics Monitor<br/>Tracks stress & RPS]\r\n        SCHED[Scheduler<br/>Makes decisions]\r\n        ORCH[Orchestrator<br/>Coordinates actions]\r\n        EXEC[Executor<br/>Applies changes]\r\n    end\r\n    \r\n    DC -.-> ORCH\r\n    MON --\x3e ORCH\r\n    ORCH <--\x3e SCHED\r\n    ORCH --\x3e EXEC\r\n    EXEC <-.->|Peer API| EXEC\r\n    \r\n    K8S[(Kubernetes API)] <--\x3e EXEC\r\n    LINKERD[Linkerd Service Mirror] -.-> MON\r\n    \r\n    style ORCH fill:#e1f5ff\r\n    style EXEC fill:#ffe1e1'}),"\n",(0,s.jsx)(r.h3,{id:"service-roles",children:"Service Roles"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Service"}),(0,s.jsx)(r.th,{children:"Purpose"}),(0,s.jsx)(r.th,{children:"Typical Resource Usage"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Discovery Controller"})}),(0,s.jsx)(r.td,{children:"Ensures services are exported"}),(0,s.jsx)(r.td,{children:"100m CPU, 128Mi RAM"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Metrics Monitor"})}),(0,s.jsx)(r.td,{children:"Collects stress & RPS metrics"}),(0,s.jsx)(r.td,{children:"200m CPU, 256Mi RAM"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Scheduler"})}),(0,s.jsx)(r.td,{children:"Pure decision logic (stateless)"}),(0,s.jsx)(r.td,{children:"100m CPU, 128Mi RAM"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Orchestrator"})}),(0,s.jsx)(r.td,{children:"Coordinates everything"}),(0,s.jsx)(r.td,{children:"200m CPU, 256Mi RAM"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Executor"})}),(0,s.jsx)(r.td,{children:"Applies Kubernetes changes"}),(0,s.jsx)(r.td,{children:"200m CPU, 256Mi RAM"})]})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,s.jsx)(r.h3,{id:"1-multi-region-high-availability",children:"1. Multi-Region High Availability"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Challenge"}),": Maintain low latency while ensuring resilience"]}),"\n",(0,s.jsx)(r.mermaid,{value:"graph LR\r\n    A[Users<br/>US-West] --\x3e B[Cluster A<br/>US-West]\r\n    C[Users<br/>US-East] --\x3e D[Cluster B<br/>US-East]\r\n    \r\n    B <-.->|Backup| D\r\n    \r\n    style B fill:#e1ffe1\r\n    style D fill:#e1ffe1"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Serve users from nearest cluster"}),"\n",(0,s.jsx)(r.li,{children:"Automatically failover to remote cluster if needed"}),"\n",(0,s.jsx)(r.li,{children:"Deploy popular services in both regions"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"2-burst-traffic-handling",children:"2. Burst Traffic Handling"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Challenge"}),": Handle traffic spikes without over-provisioning"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Normal load: All traffic local"}),"\n",(0,s.jsx)(r.li,{children:"Spike detected: Shift 30-50% to peer cluster"}),"\n",(0,s.jsx)(r.li,{children:"Spike ends: Shift traffic back"}),"\n",(0,s.jsx)(r.li,{children:"No manual intervention needed"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"3-cost-optimization",children:"3. Cost Optimization"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Challenge"}),": Minimize cluster costs while maintaining performance"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Deploy only frequently-used services"}),"\n",(0,s.jsx)(r.li,{children:"Remove services with < 10 RPS"}),"\n",(0,s.jsx)(r.li,{children:"Coordinate with cheaper peer clusters for overflow"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"4-progressive-service-migration",children:"4. Progressive Service Migration"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Challenge"}),": Migrate services between clusters safely"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Solution"}),":"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Deploy service in new cluster"}),"\n",(0,s.jsx)(r.li,{children:"Gradually shift traffic (10%, 30%, 50%, 100%)"}),"\n",(0,s.jsx)(r.li,{children:"Monitor and rollback if needed"}),"\n",(0,s.jsx)(r.li,{children:"Remove from old cluster when stable"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(r.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"# Verify prerequisites\r\nkubectl version --short        # Kubernetes 1.24+\r\nlinkerd version               # Linkerd 2.12+\r\nlinkerd multicluster check    # Multi-cluster configured\n"})}),"\n",(0,s.jsx)(r.h3,{id:"1-install-defog-v2",children:"1. Install Defog v2"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"# Clone repository\r\ngit clone https://github.com/your-org/defog-v2.git\r\ncd defog-v2\r\n\r\n# Create namespace\r\nkubectl create namespace defog-system\r\n\r\n# Apply configuration\r\nkubectl apply -f deployments/kubernetes/\n"})}),"\n",(0,s.jsx)(r.h3,{id:"2-configure-peer-clusters",children:"2. Configure Peer Clusters"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-yaml",children:'# config/peer-clusters.yaml\r\napiVersion: v1\r\nkind: Secret\r\nmetadata:\r\n  name: peer-cluster-config\r\n  namespace: defog-system\r\nstringData:\r\n  clusters.json: |\r\n    [{\r\n      "id": "cluster-b",\r\n      "apiEndpoint": "https://cluster-b-executor.example.com",\r\n      "region": "us-east-1",\r\n      "token": "your-secure-token"\r\n    }]\n'})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"kubectl apply -f config/peer-clusters.yaml\n"})}),"\n",(0,s.jsx)(r.h3,{id:"3-verify-installation",children:"3. Verify Installation"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"# Check pods\r\nkubectl get pods -n defog-system\r\n\r\n# Should see 5 services running:\r\n# - discovery-controller\r\n# - resource-monitor\r\n# - scheduler\r\n# - orchestrator\r\n# - executor\r\n\r\n# Check logs\r\nkubectl logs -n defog-system deployment/orchestrator\n"})}),"\n",(0,s.jsx)(r.h3,{id:"4-watch-it-work",children:"4. Watch It Work"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'# Generate load on a service\r\nkubectl run load-generator --image=busybox --restart=Never -- \\\r\n  sh -c "while true; do wget -q -O- http://api-service; done"\r\n\r\n# Watch metrics\r\nkubectl logs -f -n defog-system deployment/resource-monitor\r\n\r\n# Watch traffic splits\r\nkubectl get trafficsplit -w\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"configuration-overview",children:"Configuration Overview"}),"\n",(0,s.jsx)(r.p,{children:"Key settings you'll want to adjust:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-yaml",children:'# Stress thresholds (when to shift traffic)\r\nSTRESS_HIGH: "0.80"           # 80% CPU/RAM\r\nSTRESS_CRITICAL: "0.90"       # 90% CPU/RAM\r\n\r\n# RPS thresholds (when to deploy/evict)\r\nHIGH_RPS_THRESHOLD: "300.0"   # Deploy if mirrored > 300 RPS\r\nLOW_RPS_THRESHOLD: "10.0"     # Consider deletion if < 10 RPS\r\nMIN_RPS_TO_KEEP: "50.0"       # Never delete if > 50 RPS\r\n\r\n# Capacity limits\r\nMAX_MIRRORED_SERVICES: "10"   # Max foreign workloads\r\nMAX_FOREIGN_CPU: "2000m"      # Max 2 cores for foreign services\r\n\r\n# Timing\r\nCHECK_INTERVAL: "30s"         # How often to check metrics\n'})}),"\n",(0,s.jsxs)(r.p,{children:["See ",(0,s.jsx)(r.a,{href:"./configuration",children:"Configuration Guide"})," for complete details."]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"documentation-structure",children:"Documentation Structure"}),"\n",(0,s.jsx)(r.mermaid,{value:"graph TD\r\n    A[Introduction] --\x3e B[Architecture Overview]\r\n    B --\x3e C[Dual-Strategy Design]\r\n    C --\x3e D[Service Details]\r\n    D --\x3e E[Complete Flows]\r\n    E --\x3e F[API Reference]\r\n    F --\x3e G[Configuration]\r\n    G --\x3e H[Deployment]\r\n    H --\x3e I[Troubleshooting]\r\n    \r\n    style A fill:#e1f5ff\r\n    style B fill:#e1ffe1\r\n    style C fill:#ffe1e1"}),"\n",(0,s.jsx)(r.h3,{id:"navigation-guide",children:"Navigation Guide"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Getting Started"}),":"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"Read this introduction"}),"\n",(0,s.jsxs)(r.li,{children:["Review ",(0,s.jsx)(r.a,{href:"./architecture",children:"Architecture Overview"})]}),"\n",(0,s.jsxs)(r.li,{children:["Follow ",(0,s.jsx)(r.a,{href:"./deployment",children:"Deployment Guide"})]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Understanding the System"}),":"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"./dual-strategy",children:"Dual-Strategy Design"})," - How both strategies work"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"./services",children:"Service Details"})," - Deep dive into each component"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"./flows",children:"Complete Flows"})," - Real-world examples"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Operating & Configuring"}),":"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"./configuration",children:"Configuration Guide"})," - All settings explained"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"./api",children:"API Reference"})," - Complete API documentation"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"./troubleshooting",children:"Troubleshooting"})," - Common issues & solutions"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"design-philosophy",children:"Design Philosophy"}),"\n",(0,s.jsx)(r.h3,{id:"1-autonomous-clusters",children:"1. Autonomous Clusters"}),"\n",(0,s.jsx)(r.p,{children:"Each cluster operates independently:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Makes its own decisions"}),"\n",(0,s.jsx)(r.li,{children:"Communicates with peers only when necessary"}),"\n",(0,s.jsx)(r.li,{children:"Survives network partitions"}),"\n",(0,s.jsx)(r.li,{children:"No single point of failure"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"2-gradual-changes",children:"2. Gradual Changes"}),"\n",(0,s.jsx)(r.p,{children:"All changes happen incrementally:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Traffic shifts by 10% increments"}),"\n",(0,s.jsx)(r.li,{children:"Services deployed with ramp-up period"}),"\n",(0,s.jsx)(r.li,{children:"Automatic rollback if issues detected"}),"\n",(0,s.jsx)(r.li,{children:"Minimize user impact"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"3-safety-first",children:"3. Safety First"}),"\n",(0,s.jsx)(r.p,{children:"Multiple safety mechanisms:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Minimum RPS threshold prevents critical service deletion"}),"\n",(0,s.jsx)(r.li,{children:"Capacity limits prevent cluster overload"}),"\n",(0,s.jsx)(r.li,{children:"Health checks before peer communication"}),"\n",(0,s.jsx)(r.li,{children:"Audit logging for all actions"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"4-observable",children:"4. Observable"}),"\n",(0,s.jsx)(r.p,{children:"Everything is visible:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Detailed logging at each step"}),"\n",(0,s.jsx)(r.li,{children:"Prometheus metrics for monitoring"}),"\n",(0,s.jsx)(r.li,{children:"API endpoints for inspection"}),"\n",(0,s.jsx)(r.li,{children:"Clear event trail"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"performance-characteristics",children:"Performance Characteristics"}),"\n",(0,s.jsx)(r.h3,{id:"response-times",children:"Response Times"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Action"}),(0,s.jsx)(r.th,{children:"Time"}),(0,s.jsx)(r.th,{children:"Reversible"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Traffic shift (stress)"}),(0,s.jsx)(r.td,{children:"5-10s"}),(0,s.jsx)(r.td,{children:"Yes"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Local deployment"}),(0,s.jsx)(r.td,{children:"60-90s"}),(0,s.jsx)(r.td,{children:"Yes"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Peer deployment"}),(0,s.jsx)(r.td,{children:"90-150s"}),(0,s.jsx)(r.td,{children:"Yes"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Service deletion"}),(0,s.jsx)(r.td,{children:"10-20s"}),(0,s.jsx)(r.td,{children:"Yes (redeploy)"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"resource-usage",children:"Resource Usage"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Typical cluster"})," (100 services, 3 peer clusters):"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Total CPU: 0.8 cores"}),"\n",(0,s.jsx)(r.li,{children:"Total Memory: 1.2 GB"}),"\n",(0,s.jsx)(r.li,{children:"Network: < 1 Mbps (peer communication)"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"scalability",children:"Scalability"}),"\n",(0,s.jsx)(r.p,{children:"Tested configurations:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Clusters"}),": 2-10 peer clusters"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Services"}),": 100+ services per cluster"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"RPS"}),": Up to 10,000 RPS per service"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Events"}),": 100+ events per minute"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,s.jsx)(r.h3,{id:"learn-the-system",children:"Learn the System"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"./architecture",children:"Architecture Overview"})})," - Understand the 5 services"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"./dual-strategy",children:"Dual-Strategy Design"})})," - Learn how stress and RPS work together"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"./flows",children:"Complete Flows"})})," - See real examples in action"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"deploy-it",children:"Deploy It"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"./configuration",children:"Configuration Guide"})})," - Set up for your environment"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"./deployment",children:"Deployment Guide"})})," - Step-by-step installation"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"./troubleshooting",children:"Troubleshooting"})})," - Fix common issues"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"integrate-it",children:"Integrate It"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"./api",children:"API Reference"})})," - Build custom integrations"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Service Details"})," - Understand each component"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Operations Guide"})," - Day-to-day management"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"community--support",children:"Community & Support"}),"\n",(0,s.jsx)(r.h3,{id:"get-involved",children:"Get Involved"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"GitHub"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/your-org/defog-v2",children:"github.com/your-org/defog-v2"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Slack"}),": ",(0,s.jsx)(r.a,{href:"https://defog-community.slack.com",children:"defog-community.slack.com"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Mailing List"}),": ",(0,s.jsx)(r.a,{href:"mailto:defog-users@googlegroups.com",children:"defog-users@googlegroups.com"})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"resources",children:"Resources"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Examples"}),": ",(0,s.jsx)(r.code,{children:"examples/"})," directory in repo"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Dashboards"}),": Pre-built Grafana dashboards"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Helm Charts"}),": Production-ready configurations"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Blog"}),": Engineering blog at blog.defog.io"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"contributing",children:"Contributing"}),"\n",(0,s.jsxs)(r.p,{children:["We welcome contributions! See ",(0,s.jsx)(r.a,{href:"https://github.com/your-org/defog-v2/blob/main/CONTRIBUTING.md",children:"CONTRIBUTING.md"})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"license",children:"License"}),"\n",(0,s.jsx)(r.p,{children:"Defog v2 is open source under the MIT License."}),"\n",(0,s.jsxs)(r.p,{children:["See ",(0,s.jsx)(r.a,{href:"https://github.com/your-org/defog-v2/blob/main/LICENSE",children:"LICENSE"})," for details."]})]})}function h(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>o});var i=n(6540);const s={},l=i.createContext(s);function t(e){const r=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(l.Provider,{value:r},e.children)}}}]);